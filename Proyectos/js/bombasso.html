<!DOCTYPE html>
<html>

<body>
    <h2>BOMBASSO</h2>
    <p> Se pide que crees un programa que genere un campo de minas.
        Las minas se colocan de forma aleatoria pero teniendo
        en cuenta que no se deben colocar dos minas juntas.
        realiza el programa para que genere 10, 20 o todas
        las minas que se puedan instalar.
    </p>
    <p id="demo"></p>
    <script>

        var arr = [[" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
        [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
        [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
        [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
        [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
        [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
        [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
        [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
        [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "]

        ];
        console.table(arr);
        function generateRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        function colocarMinas(numMinas) {
            var minasColocadas = 0;
            //bucle que se repite hasta que la cantidad de minas colocadas sea  igual
            //que la cantidad indicada
            while (minasColocadas < numMinas) {
                                //variables aleatorias que empiezan desde 0 hasta la longituid maxima posible

                var fila = generateRandomInt(0, arr.length - 1);
                var columna = generateRandomInt(0, arr[0].length - 1);

                // Verificar si la celda está vacía antes de colocar la mina y si no hay minas en las celdas vecinas
                if (arr[fila][columna] === " ") {
                    var vecinosLibres = true;

                    for (var x = -1; x <= 1; x++) {
                        for (var y = -1; y <= 1; y++) {
                            if (fila + x >= 0 && fila + x < arr.length && columna + y >= 0 && columna + y < arr[0].length) {
                                if (arr[fila + x][columna + y] === "*") {
                                    vecinosLibres = false;
                                    break;
                                }
                            }
                        }
                        if (!vecinosLibres) {
                            break;
                        }
                    }

                    if (vecinosLibres) {
                        arr[fila][columna] = "*";
                        minasColocadas++;
                    }
                }
            }
        }

        //Generar el campo de minas
        function generarCampoDeMinas(numMinas) {
            colocarMinas(numMinas);
            console.table(arr);
        }

        // Llamar a la función generarCampoDeMinas con la cantidad de minas deseada
        generarCampoDeMinas(20);

    </script>
</body>

</html>